<!DOCTYPE html>
<html lang="pl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="icon" href="logo.png" type="image/png">
    <title>Kontakt - Eco premium</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>

    <header>
        <div class="logo">
            <img src="logo.png" alt="Logo Firmy">
            <span>PODUSZKI</span>
        </div>
        <nav>
            <ul>
                <li><a href="index.html">Strona GÅ‚Ã³wna</a></li>
                <li><a href="about.html">O Nas</a></li>
                <li><a href="contact.html">Kontakt</a></li>
            </ul>
        </nav>
    </header>

    <main class="box">
        <h1>Kontakt</h1>
        <p>Skontaktuj siÄ™ z nami, wysyÅ‚ajÄ…c e-mail.</p>
        
        <form id="contact-form">
            <label for="email">TwÃ³j e-mail:</label>
            <input type="email" id="email" name="email" placeholder="E-MAIL" required>
            
            <label for="message">WiadomoÅ›Ä‡:</label>
            <textarea id="message" name="message" placeholder="WiadomoÅ›Ä‡" required></textarea>

            <button type="submit">WyÅ›lij</button>
        </form>
    </main>

    <script>
        document.getElementById("contact-form").addEventListener("submit", async function(event) {
            event.preventDefault();
        
            let email = document.getElementById("email").value;
            let message = document.getElementById("message").value;
            let newData = `E-mail: ${email}\nWiadomoÅ›Ä‡: ${message}\n\n`;
        
            let githubUsername = "LimitedOspre";  // ðŸ”¹ Podaj swojÄ… nazwÄ™ uÅ¼ytkownika GitHub
            let repoName = "eoasad";         // ðŸ”¹ Podaj nazwÄ™ repozytorium
            let filePath = "data.txt";     // ðŸ”¹ ÅšcieÅ¼ka do pliku w repozytorium
            let token = "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";       // ðŸ”¹ Podaj swÃ³j token GitHub
        
            let fileUrl = `https://api.github.com/repos/${githubUsername}/${repoName}/contents/${filePath}`;
        
            // Pobierz aktualnÄ… zawartoÅ›Ä‡ pliku
            let response = await fetch(fileUrl, {
                headers: { Authorization: `token ${token}` }
            });
        
            let fileData = await response.json();
            let currentContent = atob(fileData.content); // Dekodowanie base64
            let updatedContent = btoa(currentContent + newData); // Dodanie nowej linii i kodowanie base64
        
            // WyÅ›lij nowÄ… wersjÄ™ pliku
            let updateResponse = await fetch(fileUrl, {
                method: "PUT",
                headers: {
                    "Authorization": `token ${token}`,
                    "Content-Type": "application/json"
                },
                body: JSON.stringify({
                    message: "Dodano nowÄ… wiadomoÅ›Ä‡",
                    content: updatedContent,
                    sha: fileData.sha
                })
            });
        
            if (updateResponse.ok) {
                alert("WiadomoÅ›Ä‡ zapisana w pliku na GitHub!");
            } else {
                alert("BÅ‚Ä…d zapisu do pliku.");
            }
        });
        </script>

    <footer>
        <p>&copy; 2025 Eco premium. Wszelkie prawa zastrzeÅ¼one.</p>
    </footer>

</body>
</html>
